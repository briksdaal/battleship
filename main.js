(()=>{"use strict";var t={426:(t,e,r)=>{r.d(e,{Z:()=>o});var n=r(81),a=r.n(n),i=r(645),s=r.n(i)()(a());s.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap);"]),s.push([t.id,':root {\n  font-size: 18px;\n  --cell-size: 40px;\n}\n\n* {\n  padding: 0;\n  margin: 0;\n  font-family: "Roboto", sans-serif;\n  box-sizing: border-box;\n}\n\n.main {\n  padding: 40px;\n}\n\n.heading-container {\n  text-align: center;\n}\n\n.main-heading {\n  font-size: 3rem;\n}\n\n.boards-container {\n  padding-top: 60px;\n  display: flex;\n  gap: 300px;\n  justify-content: center;\n}\n\n.board {\n  display: inline-grid;\n  grid-template-columns: repeat(10, var(--cell-size));\n  grid-template-rows: repeat(10, var(--cell-size));\n  gap: 2px;\n  background-color: black;\n  border: 2px solid black;\n}\n\n.cell {\n  background: white;\n  cursor: pointer;\n}\n\n.cell.ship {\n  background: green;\n  cursor: auto;\n}\n\n.cell.hit {\n  background: red;\n  cursor: auto;\n}\n\n.cell.miss {\n  background: grey;\n  cursor: auto;\n}\n\n.cell.revealed {\n  background: rgb(209, 209, 209);\n  cursor: auto;\n}\n\n.rotation-btn {\n  width: 40px;\n  height: 40px;\n}\n',""]);const o=s},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r="",n=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),n&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=t(e),n&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(t,r,n,a,i){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(n)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(s[l]=!0)}for(var c=0;c<t.length;c++){var d=[].concat(t[c]);n&&s[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),r&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=r):d[2]=r),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),e.push(d))}},e}},81:t=>{t.exports=function(t){return t[1]}},379:t=>{var e=[];function r(t){for(var r=-1,n=0;n<e.length;n++)if(e[n].identifier===t){r=n;break}return r}function n(t,n){for(var i={},s=[],o=0;o<t.length;o++){var l=t[o],c=n.base?l[0]+n.base:l[0],d=i[c]||0,h="".concat(c," ").concat(d);i[c]=d+1;var p=r(h),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)e[p].references++,e[p].updater(u);else{var m=a(u,n);n.byIndex=o,e.splice(o,0,{identifier:h,updater:m,references:1})}s.push(h)}return s}function a(t,e){var r=e.domAPI(e);return r.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;r.update(t=e)}else r.remove()}}t.exports=function(t,a){var i=n(t=t||[],a=a||{});return function(t){t=t||[];for(var s=0;s<i.length;s++){var o=r(i[s]);e[o].references--}for(var l=n(t,a),c=0;c<i.length;c++){var d=r(i[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}i=l}}},569:t=>{var e={};t.exports=function(t,r){var n=function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,r)=>{t.exports=function(t){var e=r.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(r){!function(t,e,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var a=void 0!==r.layer;a&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,a&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,r)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function r(n){var a=e[n];if(void 0!==a)return a.exports;var i=e[n]={id:n,exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.nc=void 0,(()=>{class t{#t;#e;#r;#n;constructor(e){Number.isInteger(e)&&e>=0&&e<5?(this.#t=e,[this.#e,this.#r]=t.#a[e],this.#n=0):(this.#t=-1,this.#e="Illegal ship",this.#r=0,this.#n=0)}get id(){return this.#t}get name(){return this.#e}get length(){return this.#r}get hits(){return this.#n}hit(){this.#n!==this.#r&&(this.#n+=1)}isSunk(){return this.#n===this.#r}static#a=[["Carrier",5],["Battleship",4],["Destroyer",3],["Submarine",3],["Patrol Boat",2]]}const e=t;class n{#i;#s=[];constructor(){this.#i=[...new Array(10)].map((()=>[...new Array(10)].map((()=>null))))}get board(){return this.#i}placeShip(t,r,n=!0){const a=new e(t);if(-1===a.id||!this.isLegalPlacement(a.length,r,n))return!1;const[i,s]=r,o=n?i+1:i+a.length,l=n?s+a.length:s+1;for(let t=i;t<o;t+=1)for(let e=s;e<l;e+=1)this.#i[t][e]=a;return this.#o(a.length,r,n,t),this.#s.push(a),!0}isShip(t){const[r,n]=t;return this.#i[r][n]instanceof e}receiveAttack(t){if(!n.#l(t))return!1;const[e,r]=t;if(null!==this.#i[e][r]&&("attackResult"in this.#i[e][r]||!0===this.#i[e][r].revealed))return!1;if(this.isShip(t)){const t=this.#i[e][r];t.hit(),this.#i[e][r]={attackResult:!0},t.isSunk()&&this.#c(t)}else null===this.#i[e][r]?this.#i[e][r]={attackResult:!1}:this.#i[e][r].attackResult=!1;return!0}allSunk(){return this.#s.length>0&&this.#s.every((t=>t.isSunk()))}allPlaced(){return 5===this.#s.length&&this.#s.some((t=>0===t.id))&&this.#s.some((t=>1===t.id))&&this.#s.some((t=>2===t.id))&&this.#s.some((t=>3===t.id))&&this.#s.some((t=>4===t.id))}getCellForRender(t){const[e,r]=t,n=this.#i[e][r];let a;return a=null===n?0:this.isShip(t)?1:"attackResult"in n&&!0===n.attackResult?2:"attackResult"in n&&!1===n.attackResult?3:!0===n.revealed?4:0,a}isLegalPlacement(t,e,r){const[a,i]=e,s=r?a+1:a+t,o=r?i+t:i+1;for(let t=a;t<s;t+=1)for(let e=i;e<o;e+=1)if(!n.#l([t,e])||this.#d([t,e]))return!1;return!0}static#l(t){const[e,r]=t;return e>=0&&e<10&&r>=0&&r<10}#d(t){const[e,r]=t;return this.#i[e][r]}#o(t,e,r,a){const[i,s]=e,o=r?i+1:i+t,l=r?s+t:s+1;for(let t=i-1;t<o+1;t+=1)for(let e=s-1;e<l+1;e+=1)!n.#l([t,e])||t!==i-1&&t!==o&&e!==s-1&&e!==l||(this.#d([t,e])||(this.#i[t][e]={neighbor:[]}),this.#i[t][e].neighbor.push(a))}#c(t){const e=t.id;for(let t=0;t<10;t+=1)for(let r=0;r<10;r+=1)null!==this.#i[t][r]&&this.#i[t][r].neighbor&&this.#i[t][r].neighbor.includes(e)&&(this.#i[t][r].revealed=!0)}}const a=n;class i{#h;#p;constructor(t){this.#h=t,this.gameboard=new a}set enemy(t){this.#p=t}get enemy(){return this.#p}get isHuman(){return this.#h}makeMove(t){return this.enemy instanceof i&&this.enemy.gameboard.receiveAttack(t)}randomMove(){let t=!0;for(;t;)t=!this.makeMove(i.#u());return!0}randomPlace(){for(let t=0;t<5;t+=1){let e=!0;for(;e;)e=!this.gameboard.placeShip(t,i.#u(),i.#m())}return!0}testPlace(){this.gameboard.placeShip(0,[0,1],!0),this.gameboard.placeShip(1,[2,0],!0),this.gameboard.placeShip(2,[2,6],!1),this.gameboard.placeShip(3,[4,4],!1),this.gameboard.placeShip(4,[8,8],!0)}static#u(){return[Math.floor(10*Math.random()),Math.floor(10*Math.random())]}static#m(){return 0===Math.floor(2*Math.random())}}const s=i;class o{constructor(){this.game=new class{#g;#f;constructor(){this.#g=new s(!0),this.#f=new s(!1),this.#g.enemy=this.#f,this.#f.enemy=this.#g,this.gameOver=null}get player1(){return this.#g}get player2(){return this.#f}isGameOver(){if(this.gameOver)return this.gameOver;let t;return t=this.#g.gameboard.allSunk()?this.#f:this.#f.gameboard.allSunk()?this.#g:null,this.gameOver=t,t}},this.init(),this.placeShips()}init(){this.main=document.createElement("div"),this.main.classList.add("main");const t=document.createElement("div");t.classList.add("heading-container");const e=document.createElement("h1");e.classList.add("main-heading"),e.textContent="Battleship",t.appendChild(e);const r=document.createElement("div");r.classList.add("boards-container");const n=document.createElement("div");n.classList.add("user-container");const a=document.createElement("div");a.classList.add("opponent-container");const i=document.createElement("h3");i.textContent="Player Board";const s=this.createBoard(!0);s.classList.add("user-board"),n.appendChild(i),n.appendChild(s);const o=document.createElement("h3");o.textContent="PC Board";const l=this.createBoard(!1);l.classList.add("opponent-board"),a.appendChild(o),a.appendChild(l),r.appendChild(n),r.appendChild(a);const c=document.createElement("div");c.classList.add("status-container"),this.status=document.createElement("h2"),this.status.classList.add("game-status"),c.appendChild(this.status),this.main.appendChild(t),this.main.appendChild(r),this.main.appendChild(c),document.body.appendChild(this.main)}createBoard(t){const e=[...new Array(10)].map((()=>[...new Array(10)])),r=document.createElement("div");r.classList.add("board");for(let t=0;t<10;t+=1)for(let n=0;n<10;n+=1){const a=document.createElement("div");a.classList.add("cell"),a.dataset.row=t,a.dataset.col=n,e[t][n]=a,r.appendChild(a)}return t?this.playerBoard=e:this.opponentBoard=e,r}placeShips(){this.status.textContent="Place Carrier...",this.currentShip=0,this.rotationBtn=document.createElement("button"),this.rotationBtn.textContent="RRR",this.rotationBtn.classList.add("rotation-btn"),document.querySelector(".user-container").appendChild(this.rotationBtn),this.rotationDirection=!0,this.rotationBtn.addEventListener("click",this.changeRotation),document.querySelector(".user-board").addEventListener("mouseout",this.player1Render),this.playerBoard.forEach((t=>{t.forEach((t=>{t.addEventListener("mouseover",this.showShip),t.addEventListener("click",this.placeShipOnClick)}))}))}showShip=t=>{const e=o.#a[this.currentShip][1];this.renderBoard(this.game.player1);const r=[+t.target.dataset.row,+t.target.dataset.col],[n,a]=r,i=this.game.player1.gameboard.isLegalPlacement(e,r,this.rotationDirection)?"ship":"hit";if(this.rotationDirection)for(let t=a;t<a+e&&t<10;t+=1)this.playerBoard[n][t].classList.add(i);else for(let t=n;t<n+e&&t<10;t+=1)this.playerBoard[t][a].classList.add(i)};changeRotation=()=>{this.rotationDirection=!this.rotationDirection};player1Render=()=>this.renderBoard(this.game.player1);placeShipOnClick=t=>{const e=[+t.target.dataset.row,+t.target.dataset.col];this.game.player1.gameboard.placeShip(this.currentShip,e,this.rotationDirection)&&this.afterShipPlaced()};afterShipPlaced(){if(this.rotationDirection=!0,this.currentShip+=1,5===this.currentShip)this.finishPlacementStage();else{const t=o.#a[this.currentShip][0];this.status.textContent=`Place ${t}...`}}finishPlacementStage(){this.rotationBtn.removeEventListener("click",this.changeRotation),this.rotationBtn.remove(),document.querySelector(".user-board").removeEventListener("mouseout",this.player1Render),this.playerBoard.forEach((t=>{t.forEach((t=>{t.removeEventListener("mouseover",this.showShip),t.removeEventListener("click",this.placeShipOnClick)}))})),this.game.player2.randomPlace(),this.setTurnHandler()}renderBoard(t){const e=t===this.game.player1,r=e?this.game.player1.gameboard:this.game.player2.gameboard,n=e?this.playerBoard:this.opponentBoard;for(let t=0;t<10;t+=1)for(let a=0;a<10;a+=1){n[t][a].className="cell";const i=r.getCellForRender([t,a]);1===i&&e?n[t][a].classList.add("ship"):2===i?n[t][a].classList.add("hit"):3===i?n[t][a].classList.add("miss"):4===i&&n[t][a].classList.add("revealed")}}setTurnHandler(){this.status.textContent="Attack!",this.opponentBoard.forEach((t=>{t.forEach((t=>{t.addEventListener("click",this.boundPlayerMove)}))}))}boundPlayerMove=this.playerMove.bind(this);playerMove(t){const e=[t.target.dataset.row,t.target.dataset.col];if(this.game.player1.makeMove(e)){this.renderBoard(this.game.player2);let t=this.game.isGameOver();t||(this.game.player2.randomMove(),this.renderBoard(this.game.player1),t=this.game.isGameOver()),t&&this.gameOverCleanUp(t)}}gameOverCleanUp(t){this.main.classList.add("game-over"),this.status.textContent=`Game Over, ${t===this.game.player1?"You":"PC"} won!`,this.opponentBoard.forEach((t=>{t.forEach((t=>{t.removeEventListener("click",this.boundPlayerMove)}))}))}static#a=[["Carrier",5],["Battleship",4],["Destroyer",3],["Submarine",3],["Patrol Boat",2]]}const l=o;var c=r(379),d=r.n(c),h=r(795),p=r.n(h),u=r(569),m=r.n(u),g=r(565),f=r.n(g),v=r(216),b=r.n(v),y=r(589),S=r.n(y),C=r(426),k={};k.styleTagTransform=S(),k.setAttributes=f(),k.insert=m().bind(null,"head"),k.domAPI=p(),k.insertStyleElement=b(),d()(C.Z,k),C.Z&&C.Z.locals&&C.Z.locals,new l})()})();