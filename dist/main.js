(()=>{"use strict";var t={426:(t,e,a)=>{a.d(e,{Z:()=>o});var n=a(81),r=a.n(n),i=a(645),s=a.n(i)()(r());s.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap);"]),s.push([t.id,':root {\n  font-size: 18px;\n  --cell-size: 40px;\n}\n\n* {\n  padding: 0;\n  margin: 0;\n  font-family: "Roboto", sans-serif;\n  box-sizing: border-box;\n}\n\n.main {\n  padding: 40px;\n}\n\n.heading-container {\n  text-align: center;\n}\n\n.main-heading {\n  font-size: 3rem;\n}\n\n.boards-container {\n  padding-top: 60px;\n  display: flex;\n  gap: 300px;\n  justify-content: center;\n}\n\n.board {\n  display: inline-grid;\n  grid-template-columns: repeat(10, var(--cell-size));\n  grid-template-rows: repeat(10, var(--cell-size));\n  gap: 2px;\n  background-color: black;\n  border: 2px solid black;\n}\n\n.cell {\n  background: white;\n  cursor: pointer;\n}\n\n.cell.ship {\n  background: green;\n  cursor: auto;\n}\n\n.cell.hit {\n  background: red;\n  cursor: auto;\n}\n\n.cell.miss {\n  background: grey;\n  cursor: auto;\n}\n\n.cell.revealed {\n  background: rgb(209, 209, 209);\n  cursor: auto;\n}\n\n.rotation-btn {\n  width: 40px;\n  height: 40px;\n}\n',""]);const o=s},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var a="",n=void 0!==e[5];return e[4]&&(a+="@supports (".concat(e[4],") {")),e[2]&&(a+="@media ".concat(e[2]," {")),n&&(a+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),a+=t(e),n&&(a+="}"),e[2]&&(a+="}"),e[4]&&(a+="}"),a})).join("")},e.i=function(t,a,n,r,i){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(n)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(s[l]=!0)}for(var h=0;h<t.length;h++){var d=[].concat(t[h]);n&&s[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),a&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=a):d[2]=a),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),e.push(d))}},e}},81:t=>{t.exports=function(t){return t[1]}},379:t=>{var e=[];function a(t){for(var a=-1,n=0;n<e.length;n++)if(e[n].identifier===t){a=n;break}return a}function n(t,n){for(var i={},s=[],o=0;o<t.length;o++){var l=t[o],h=n.base?l[0]+n.base:l[0],d=i[h]||0,c="".concat(h," ").concat(d);i[h]=d+1;var p=a(c),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)e[p].references++,e[p].updater(u);else{var m=r(u,n);n.byIndex=o,e.splice(o,0,{identifier:c,updater:m,references:1})}s.push(c)}return s}function r(t,e){var a=e.domAPI(e);return a.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;a.update(t=e)}else a.remove()}}t.exports=function(t,r){var i=n(t=t||[],r=r||{});return function(t){t=t||[];for(var s=0;s<i.length;s++){var o=a(i[s]);e[o].references--}for(var l=n(t,r),h=0;h<i.length;h++){var d=a(i[h]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}i=l}}},569:t=>{var e={};t.exports=function(t,a){var n=function(t){if(void 0===e[t]){var a=document.querySelector(t);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(t){a=null}e[t]=a}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(a)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,a)=>{t.exports=function(t){var e=a.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(a){!function(t,e,a){var n="";a.supports&&(n+="@supports (".concat(a.supports,") {")),a.media&&(n+="@media ".concat(a.media," {"));var r=void 0!==a.layer;r&&(n+="@layer".concat(a.layer.length>0?" ".concat(a.layer):""," {")),n+=a.css,r&&(n+="}"),a.media&&(n+="}"),a.supports&&(n+="}");var i=a.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,a)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function a(n){var r=e[n];if(void 0!==r)return r.exports;var i=e[n]={id:n,exports:{}};return t[n](i,i.exports,a),i.exports}a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a.nc=void 0,(()=>{class t{#t;#e;#a;#n;constructor(e){Number.isInteger(e)&&e>=0&&e<5?(this.#t=e,[this.#e,this.#a]=t.#r[e],this.#n=0):(this.#t=-1,this.#e="Illegal ship",this.#a=0,this.#n=0)}get id(){return this.#t}get name(){return this.#e}get length(){return this.#a}get hits(){return this.#n}hit(){this.#n!==this.#a&&(this.#n+=1)}isSunk(){return this.#n===this.#a}static#r=[["Carrier",5],["Battleship",4],["Destroyer",3],["Submarine",3],["Patrol Boat",2]]}const e=t;class n{#i;#s=[];constructor(){this.#i=[...new Array(10)].map((()=>[...new Array(10)].map((()=>null))))}get board(){return this.#i}placeShip(t,a,n=!0){const r=new e(t);if(-1===r.id||!this.isLegalPlacement(r.length,a,n))return!1;const[i,s]=a,o=n?i+1:i+r.length,l=n?s+r.length:s+1;for(let t=i;t<o;t+=1)for(let e=s;e<l;e+=1)this.#i[t][e]=r;return this.#o(r.length,a,n,t),this.#s.push(r),!0}isShip(t){const[a,n]=t;return this.#i[a][n]instanceof e}receiveAttack(t){if(!n.#l(t))return!1;const[e,a]=t;if(null!==this.#i[e][a]&&("attackResult"in this.#i[e][a]||!0===this.#i[e][a].revealed))return!1;if(this.isShip(t)){const t=this.#i[e][a];t.hit(),this.#i[e][a]={attackResult:!0},t.isSunk()&&this.#h(t)}else null===this.#i[e][a]?this.#i[e][a]={attackResult:!1}:this.#i[e][a].attackResult=!1;return!0}allSunk(){return this.#s.length>0&&this.#s.every((t=>t.isSunk()))}allPlaced(){return 5===this.#s.length&&this.#s.some((t=>0===t.id))&&this.#s.some((t=>1===t.id))&&this.#s.some((t=>2===t.id))&&this.#s.some((t=>3===t.id))&&this.#s.some((t=>4===t.id))}getCellForRender(t){const[e,a]=t,n=this.#i[e][a];let r;return r=null===n?0:this.isShip(t)?1:"attackResult"in n&&!0===n.attackResult?2:"attackResult"in n&&!1===n.attackResult?3:!0===n.revealed?4:0,r}isLegalPlacement(t,e,a){const[r,i]=e,s=a?r+1:r+t,o=a?i+t:i+1;for(let t=r;t<s;t+=1)for(let e=i;e<o;e+=1)if(!n.#l([t,e])||this.#d([t,e]))return!1;return!0}reset(){this.#i=this.#i.map((t=>t.map((()=>null)))),this.#s=[]}static#l(t){const[e,a]=t;return e>=0&&e<10&&a>=0&&a<10}#d(t){const[e,a]=t;return this.#i[e][a]}#o(t,e,a,r){const[i,s]=e,o=a?i+1:i+t,l=a?s+t:s+1;for(let t=i-1;t<o+1;t+=1)for(let e=s-1;e<l+1;e+=1)!n.#l([t,e])||t!==i-1&&t!==o&&e!==s-1&&e!==l||(this.#d([t,e])||(this.#i[t][e]={neighbor:[]}),this.#i[t][e].neighbor.push(r))}#h(t){const e=t.id;for(let t=0;t<10;t+=1)for(let a=0;a<10;a+=1)null!==this.#i[t][a]&&this.#i[t][a].neighbor&&this.#i[t][a].neighbor.includes(e)&&(this.#i[t][a].revealed=!0)}}const r=n;class i{#c;#p;constructor(t){this.#c=t,this.gameboard=new r}set enemy(t){this.#p=t}get enemy(){return this.#p}get isHuman(){return this.#c}makeMove(t){return this.enemy instanceof i&&this.enemy.gameboard.receiveAttack(t)}randomMove(){let t=!0;for(;t;)t=!this.makeMove(i.#u());return!0}randomPlace(){for(let t=0;t<5;t+=1){let e=!0;for(;e;)e=!this.gameboard.placeShip(t,i.#u(),i.#m())}return!0}singlePlace(){this.gameboard.placeShip(0,[0,1],!0)}testPlace(){this.gameboard.placeShip(0,[0,1],!0),this.gameboard.placeShip(1,[2,0],!0),this.gameboard.placeShip(2,[2,6],!1),this.gameboard.placeShip(3,[4,4],!1),this.gameboard.placeShip(4,[8,8],!0)}static#u(){return[Math.floor(10*Math.random()),Math.floor(10*Math.random())]}static#m(){return 0===Math.floor(2*Math.random())}}const s=i;class o{constructor(){this.game=new class{#g;#y;constructor(){this.#g=new s(!0),this.#y=new s(!1),this.#g.enemy=this.#y,this.#y.enemy=this.#g,this.gameOver=null}get player1(){return this.#g}get player2(){return this.#y}isGameOver(){if(this.gameOver)return this.gameOver;let t;return t=this.#g.gameboard.allSunk()?this.#y:this.#y.gameboard.allSunk()?this.#g:null,this.gameOver=t,t}reset(){this.player1.gameboard.reset(),this.player2.gameboard.reset(),this.gameOver=null}},this.init(),this.placeShips()}init(){this.main=document.createElement("div"),this.main.classList.add("main");const t=document.createElement("div");t.classList.add("heading-container");const e=document.createElement("h1");e.classList.add("main-heading"),e.textContent="Battleship",t.appendChild(e);const a=document.createElement("div");a.classList.add("boards-container");const n=document.createElement("div");n.classList.add("user-container");const r=document.createElement("div");r.classList.add("opponent-container");const i=document.createElement("h3");i.textContent="Player Board";const s=this.createBoard(!0);s.classList.add("user-board"),n.appendChild(i),n.appendChild(s);const o=document.createElement("h3");o.textContent="PC Board";const l=this.createBoard(!1);l.classList.add("opponent-board"),r.appendChild(o),r.appendChild(l),a.appendChild(n),a.appendChild(r);const h=document.createElement("div");h.classList.add("status-container"),this.status=document.createElement("h2"),this.status.classList.add("game-status"),h.appendChild(this.status),this.main.appendChild(t),this.main.appendChild(a),this.main.appendChild(h),document.body.appendChild(this.main)}createBoard(t){const e=[...new Array(10)].map((()=>[...new Array(10)])),a=document.createElement("div");a.classList.add("board");for(let t=0;t<10;t+=1)for(let n=0;n<10;n+=1){const r=document.createElement("div");r.classList.add("cell"),r.dataset.row=t,r.dataset.col=n,e[t][n]=r,a.appendChild(r)}return t?this.playerBoard=e:this.opponentBoard=e,a}placeShips(){this.status.textContent="Place Carrier...",this.currentShip=0,this.rotationBtn=document.createElement("button"),this.rotationBtn.textContent="RRR",this.rotationBtn.classList.add("rotation-btn"),document.querySelector(".user-container").appendChild(this.rotationBtn),this.rotationDirection=!0,this.rotationBtn.addEventListener("click",this.changeRotation),document.querySelector(".user-board").addEventListener("mouseout",this.player1Render),this.playerBoard.forEach((t=>{t.forEach((t=>{t.addEventListener("mouseover",this.showShip),t.addEventListener("click",this.placeShipOnClick)}))}))}showShip=t=>{const e=o.#r[this.currentShip][1];this.renderBoard(this.game.player1);const a=[+t.target.dataset.row,+t.target.dataset.col],[n,r]=a,i=this.game.player1.gameboard.isLegalPlacement(e,a,this.rotationDirection)?"ship":"hit";if(this.rotationDirection)for(let t=r;t<r+e&&t<10;t+=1)this.playerBoard[n][t].classList.add(i);else for(let t=n;t<n+e&&t<10;t+=1)this.playerBoard[t][r].classList.add(i)};changeRotation=()=>{this.rotationDirection=!this.rotationDirection};player1Render=()=>this.renderBoard(this.game.player1);placeShipOnClick=t=>{const e=[+t.target.dataset.row,+t.target.dataset.col];this.game.player1.gameboard.placeShip(this.currentShip,e,this.rotationDirection)&&this.afterShipPlaced()};afterShipPlaced(){if(this.rotationDirection=!0,this.currentShip+=1,5===this.currentShip)this.finishPlacementStage();else{const t=o.#r[this.currentShip][0];this.status.textContent=`Place ${t}...`}}finishPlacementStage(){this.rotationBtn.removeEventListener("click",this.changeRotation),this.rotationBtn.remove(),document.querySelector(".user-board").removeEventListener("mouseout",this.player1Render),this.playerBoard.forEach((t=>{t.forEach((t=>{t.removeEventListener("mouseover",this.showShip),t.removeEventListener("click",this.placeShipOnClick)}))})),this.game.player2.randomPlace(),this.setTurnHandler()}renderBoard(t){const e=t===this.game.player1,a=e?this.game.player1.gameboard:this.game.player2.gameboard,n=e?this.playerBoard:this.opponentBoard;for(let t=0;t<10;t+=1)for(let r=0;r<10;r+=1){n[t][r].className="cell";const i=a.getCellForRender([t,r]);1===i&&e?n[t][r].classList.add("ship"):2===i?n[t][r].classList.add("hit"):3===i?n[t][r].classList.add("miss"):4===i&&n[t][r].classList.add("revealed")}}setTurnHandler(){this.status.textContent="Attack!",this.opponentBoard.forEach((t=>{t.forEach((t=>{t.addEventListener("click",this.boundPlayerMove)}))}))}boundPlayerMove=this.playerMove.bind(this);playerMove(t){const e=[t.target.dataset.row,t.target.dataset.col];if(this.game.player1.makeMove(e)){this.renderBoard(this.game.player2);let t=this.game.isGameOver();t||(this.game.player2.randomMove(),this.renderBoard(this.game.player1),t=this.game.isGameOver()),t&&this.gameOverCleanUp(t)}}gameOverCleanUp(t){this.main.classList.add("game-over"),this.status.textContent=`Game Over, ${t===this.game.player1?"You":"PC"} won!`,this.opponentBoard.forEach((t=>{t.forEach((t=>{t.removeEventListener("click",this.boundPlayerMove)}))})),this.playAgainBtn=document.createElement("button"),this.playAgainBtn.classList.add("play-again-btn"),this.playAgainBtn.textContent="Play Again",document.querySelector(".status-container").appendChild(this.playAgainBtn),this.playAgainBtn.addEventListener("click",this.playAgain)}playAgain=()=>{this.playAgainBtn.removeEventListener("click",this.playAgain),this.playAgainBtn.remove(),this.game.reset(),this.renderBoard(this.game.player1),this.renderBoard(this.game.player2),this.placeShips()};static#r=[["Carrier",5],["Battleship",4],["Destroyer",3],["Submarine",3],["Patrol Boat",2]]}const l=o;var h=a(379),d=a.n(h),c=a(795),p=a.n(c),u=a(569),m=a.n(u),g=a(565),y=a.n(g),f=a(216),v=a.n(f),b=a(589),S=a.n(b),B=a(426),C={};C.styleTagTransform=S(),C.setAttributes=y(),C.insert=m().bind(null,"head"),C.domAPI=p(),C.insertStyleElement=v(),d()(B.Z,C),B.Z&&B.Z.locals&&B.Z.locals,new l})()})();